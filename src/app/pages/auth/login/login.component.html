<toaster-container [toasterconfig]="config"></toaster-container>
<nb-card>
  <nb-card-header>
    <h2 class="title">{{'auth.login.title' | translate}}</h2>
  </nb-card-header>
  <nb-card-body class="auth-body">
    <form (ngSubmit)="login()" #form="ngForm" autocomplete="false">
      <div class="form-group">
        <label for="email">{{'auth.login.form.emailAddress' | translate}}</label>
        <input name="email" 
               id="email"
               [(ngModel)]="user.email"
               pattern=".+@.+\..+" required
               class="form-control"
               placeholder="{{'auth.login.form.emailAddress' | translate}}"
               #email="ngModel"
               [class.form-control-danger]="email.invalid && email.touched">
        <small class="form-text error" *ngIf="email.invalid && email.touched && email.errors?.required">
          {{'auth.login.errors.emailRequired' | translate}}
        </small>
        <small class="form-text error"
               *ngIf="email.invalid && email.touched && email.errors?.pattern">
          {{'auth.login.errors.emailInvalid' | translate}}
        </small>
      </div>

      <div class="form-group">
        <label for="password">{{'auth.login.form.password' | translate}}</label>
        <input name="password"
               [(ngModel)]="user.password"
               type="password"
               id="password"
               class="form-control"
               placeholder="{{'auth.login.form.password' | translate}}"
               #password="ngModel"
               [class.form-control-danger]="password.invalid && password.touched" required>
        <small class="form-text error" *ngIf="password.invalid && password.touched && password.errors?.required">
          {{'auth.login.errors.passwordRequired' | translate}}
        </small>
      </div>

      <button [disabled]="submitted || !form.valid" class="btn btn-block btn-success" (click)="login()"
              [class.btn-pulse]="submitted">
        {{'auth.login.form.submit' | translate}}
      </button>
    </form>

    <div class="links">
      <a class="forgot-password" routerLink="/auth/request-pwd">
        {{'auth.login.form.forgotPassword' | translate}}
      </a>
    </div>

    <div class="links">
      <small class="form-text">
        {{'auth.login.registerPrefix' | translate}}
        <a routerLink="/auth/register">
          <strong>{{'auth.login.registerSuffix' | translate}}</strong>
        </a>
      </small>
    </div>
  </nb-card-body>
</nb-card>
